<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        <div></div>
        <div></div>
        <div></div>
        <script>
            /**
             *
             *  Set
             *      成员唯一不重复
             *      可以接受一个数组或者具有 iterable 接口的其他数据结构作为参数
             *      向 Set 加入值的时候，类型是不会发生转换的
             *      对象作为值加入的时候，总是不相等的
             *
             */
            let s = new Set([1, 2, 3, 11, 1, 22, 2, 13, 3]);
            console.log(s);
            let set = new Set(document.querySelectorAll('div'));
            console.log(set, set.size);
            let res = set.add({});
            console.log(set, set.size);
            let ret = set.add({});
            console.log(set, set.size);
            // 数组去重
            console.log([...new Set([1, 2, 11, 12, 13, 1, 3, 11, 22, 2])]);
            // 去除字符串里面的重复字符
            console.log([...new Set('absdabfdsxnba')].join(''));

            /**
             *
             *  属性
             *      constructor     构造函数，默认就是 Set 函数
             *      size    Set 实例的成员总数
             *
             */
            let s2 = new Set([11, 22, 33, 44, 55]);
            console.log(Set === Set.prototype.constructor, s2.size);

            /**
             *
             *  方法
             *      add(value) 添加某个值，返回 Set 本身
             *      delete(value) 删除某个值，返回一个布尔值，表示删除是否成功
             *      has(value) 返回一个布尔值，表示该值是否是 Set 的成员
             *      clear() 清除所有成员，没有返回值
             *
             */
            let s3 = new Set([11, 22, 33, 44, 55]);
            console.log(s3.add('hello'), s3.delete(11), s3.has(33));

            // 判断是否包含一个键
            // 对象
            let obj = {
                name: 'tom',
                age: 22
            };
            if (obj.name) {
                console.log(obj.name);
            }
            // Set
            let s4 = new Set();
            s4.add('name');
            s4.add('age');
            if (s4.has('name')) {
                console.log('yes');
            }

            // Array.from 可以将 Set 结构转换为数组
            // 数组去重
            console.log(Array.from(new Set([1, 11, 2, 12, 1, 3, 22, 2])));

            /**
             *
             *  遍历
             *      keys()  返回键名的遍历器
             *      values()  返回键值的遍历器
             *      entries()   返回键值对的遍历器
             *      forEach()   使用回调函数遍历每个成员
             *
             *      注意:
             *          Set 的遍历顺序就是插入顺序
             *
             */
            let s5 = new Set(['hello', 'name', 'hi']);
            console.log(s5.keys(), s5.values(), s5.entries());
            console.log(
                s5.forEach((value, key) => {
                    console.log(key + ' : ' + value);
                })
            );
        </script>
    </body>
</html>
