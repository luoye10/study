<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        <script>
            /**
             *
             *  find()
             *      找出第一个符合条件的数组成员
             *
             *      参数是一个回调函数，数组成员依次执行该回调函数，
             *      直到找到第一个返回值为 true 的成员，返回该成员
             *      如果没有符合条件的成员，则返回 undefined
             *
             *      回调函数接受三个参数
             *          value   当前元素
             *          index   当前元素的下标
             *          arr     原数组
             *
             *  findIndex()
             *      找出第一个符合条件的数组成员，并返回成员的下标
             *      如果没有符合条件的成员，则返回 -1
             *
             *  都可以接受第二个参数，用来绑定回调函数的 this 对象
             *
             */
            let arr = [10, 22, 33, 20, 16];
            console.log(arr.find(n => n > 20));
            console.log(arr.findIndex(n => n > 20));
            console.log(arr.find(n => n < 10));
            console.log(arr.findIndex(n => n < 10));
            function fn(v) {
                return v > this.age;
            }
            let person = {
                name: 'lily',
                age: 30
            };
            console.log(arr.find(fn, person));
            console.log(arr.findIndex(fn, person));

            // 都可以发现 NaN
            console.log([NaN].find(n => Object.is(NaN, n)));
            console.log([NaN].findIndex(n => Object.is(NaN, n)));

            // findLast() findLastIndex()
            // 从数组的最后一个成员依次向前检查
            let objArr = [
                { name: 'lily', age: 20 },
                { name: 'tom', age: 25 },
                { name: 'yohn', age: 33 }
            ];
            console.log(objArr.findLast(n => n.age > 30));
            console.log(objArr.findLastIndex(n => n.age > 30));

            // includes() 返回一个布尔值，表示数组是否包含指定的值
            // 第二个参数表示搜索的起始位置，默认为 0
            // 如果是负数，则表示倒数的位置
            // 如果绝对值大于或等于数组的长度，则从0开始
            // 只会搜索第二个参数表示的位置，不会向后继续搜索
            let numArr = [11, 22, 33, 44];
            let result = numArr.includes(22);
            let res = numArr.includes(22, 2);
            let ret = numArr.includes(22, -1);
            let rel = numArr.includes(22, 4);
            console.log(numArr);
            console.log(result, res, ret, rel);
        </script>
    </body>
</html>
