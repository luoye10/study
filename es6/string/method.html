<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>字符串的一些方法</title>
    </head>
    <body>
        <script>
            /**
             *
             *  includes()
             *      表示是否找到了参数字符串，返回布尔值
             *  startsWith()
             *      表示参数字符串是否在原字符串的头部，返回布尔值
             *  endsWith()
             *      表示参数字符串是否在原字符串的尾部，返回布尔值
             *
             */
            let str = 'hello world';
            console.log(str.includes('l'));
            console.log(str.startsWith('h'));
            console.log(str.endsWith('d'));

            // repeat() 表示将字符串重复 n 次，返回一个新字符串
            // 如果参数是小数，会向下取整
            // 如果参数是字符串，会先转换为数字
            console.log('name'.repeat(3));
            console.log('an'.repeat(2.7));
            console.log('on'.repeat('5'));
            console.log('in'.repeat('sa'));

            /**
             *
             *  如果某个字符串不够指定长度，会在头部或尾部补全
             *      padStart()用于头部补全，
             *      padEnd()用于尾部补全
             *      一共两个参数
             *          第一个参数是字符串补全生效的最大长度，
             *          第二个参数是用来补全的字符串
             *
             * */
            console.log('a'.padStart(4, '0'));
            console.log('a'.padEnd(4, '0'));

            // 如果原字符串的长度，等于或大于最大长度，则字符串补全不生效，返回原字符串
            console.log('xxxx'.padStart(4, '0'));

            /**
             *
             *  trim() 消除头部和尾部的空格
             *  trimStart() 消除字符串头部的空格，
             *  trimEnd() 消除尾部的空格。
             *      返回的都是新字符串，不会修改原始字符串
             *
             */
            console.log('  hello world  '.trim());
            console.log('  hello world  '.trimStart());
            console.log('  hello world  '.trimEnd());

            /**
             *
             *  replaceAll()
             *      替换所有匹配
             *      返回一个新字符串，不会改变原字符串
             *  可以接受第二个参数
             *      replacement     字符串，表示替换的文本
             *      特殊字符串
             *          $&  匹配的字符串
             *          $`  匹配字符串前面的文本
             *          $'  匹配字符串后面的文本
             *          $n  匹配成功的第 n 组内容，n从一开始，这个参数生效的前提，第一个参数是正则表达式
             *          $$  指代美元符号 $
             *
             */
            console.log('aabbcc'.replaceAll('b', '-'));

            // $& 表示匹配的字符串，即`b`本身
            // 所以返回结果与原字符串一致
            console.log('abbc'.replaceAll('b', '$&')); // 'abbc'

            // $` 表示匹配结果之前的字符串
            // 对于第一个`b`，$` 指代`a`
            // 对于第二个`b`，$` 指代`ab`
            console.log('abbc'.replaceAll('b', '$`')); // 'aaabc'

            // $' 表示匹配结果之后的字符串
            // 对于第一个`b`，$' 指代`bc`
            // 对于第二个`b`，$' 指代`c`
            console.log('abbc'.replaceAll('b', `$'`)); // 'abccc'

            // $1 表示正则表达式的第一个组匹配，指代`ab`
            // $2 表示正则表达式的第二个组匹配，指代`bc`
            console.log('abbc'.replaceAll(/(ab)(bc)/g, '$2$1')); // 'bcab'

            // $$ 指代 $
            console.log('abc'.replaceAll('b', '$$')); // 'a$c'

            // 第二个参数 replacement 可以是一个函数
            // 函数的返回值将替换第一个参数匹配的文本
            console.log('abc'.replaceAll('b', () => '='));

            // at() 接受一个整数作为参数，返回参数指定位置的字符，可以是负数(倒数的位置)
            // 如果参数位置超出了字符串范围，返回 undefined
            console.log('hello'.at(1), 'hello'.at(-1));
            console.log('hello'.at(5));

            // concat() 用于拼接字符串
            let s = 'hello '.concat('world ', 'name ');
            console.log(s);
        </script>
    </body>
</html>
