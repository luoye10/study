<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>迭代器</title>
    </head>
    <body>
        <script>
            /**
             *
             *  迭代器( Iterator )
             *      一种接口，为各种不同的数据结构提供统一的访问机制
             *      任何数据结构只要部署 Iterator 接口，就可以完成遍历操作
             *
             *      作用：
             *          1、为各种数据结构，提供一个统一的、简便的访问接口
             *          2、使得数据结构的成员可以按照某种次序排列
             *          3、ES6 创造了一种新的遍历命令 for...of，Iterator 接口主要供 for..of 消费
             *
             *      原生具备 Iterator 接口的数据(可以用 for...of 遍历)
             *          Array  Arguments  Set  Map  String  TpyedArray  NodeList
             *
             *      工作原理
             *          创建一个指针对象，指向当前数据结构的起始位置
             *          第一次调用对象的 next 方法，指针自动指向数据结构的第一个成员
             *          接下来不断调用 next 方法，指针一直往后移动，直到指向最后一个成员
             *          每调用一次 next 方法，返回一个包含 value 和 done 属性的对象，
             *              value 是当前成员的值，done 是一个布尔值，表示遍历是否结束
             *
             */
            let xiyou = ['唐僧', '孙悟空', '猪八戒', '沙僧'];
            for (let v of xiyou) {
                console.log(v);
            }
            let iterator = xiyou[Symbol.iterator]();
            console.log(iterator.next());
            console.log(iterator.next());
            console.log(iterator.next());
            console.log(iterator.next());
            console.log(iterator.next());
            console.log(iterator.next());

            /**
             *
             *  for...in
             *      迭代一个对象除 Symbol 以外的可枚举的属性，包括继承的可枚举属性
             *
             *  for (variable in object)
             *      variable    每次迭代时，会被赋值为不同的属性名
             *      object      非 Symbol 类型的被迭代的对象
             *
             */
            let obj = {
                name: 'lucy',
                age: 20,
                gender: 'girl'
            };
            obj.__proto__.work = 'teacher';
            for (let k in obj) {
                console.log(obj[k]);
            }
        </script>
    </body>
</html>
